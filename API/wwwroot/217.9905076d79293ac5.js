"use strict";(self.webpackChunkClient=self.webpackChunkClient||[]).push([[217],{4217:(U,h,r)=>{r.r(h),r.d(h,{DeliveryMethodsModule:()=>k});var p=r(6814),m=r(7157),c=r(8109),l=r(6223),t=r(9212),_=r(5516),v=r(9862);let g=(()=>{class o{constructor(e){this.http=e,this.baseUrl=_.N.apiUrl}getDeliveryMethods(){return this.http.get(this.baseUrl+"deliverymethod")}getDeliveryMethod(e){return this.http.get(this.baseUrl+"deliverymethod/"+e)}createDeliveryMethod(e){return this.http.post(this.baseUrl+"deliverymethod/create",e)}updateDeliveryMethod(e){return this.http.post(this.baseUrl+"deliverymethod/update",e)}deleteDeliveryMethod(e){return this.http.delete(this.baseUrl+"deliverymethod/delete/"+e)}static#t=this.\u0275fac=function(i){return new(i||o)(t.LFG(v.eN))};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var y=r(2051),a=r(2500),M=r(9947);const b=(o,d)=>d.id;function f(o,d){if(1&o){const e=t.EpF();t.TgZ(0,"ul",16)(1,"li",17)(2,"a",18),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,s=t.oxw(2),u=t.MAs(28);return t.KtG(s.openModal(u,n))}),t._uU(3,"Editar"),t.qZA()(),t._UZ(4,"li",19),t.TgZ(5,"li",17)(6,"a",20),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,s=t.oxw(2);return t.KtG(s.onDelete(n.id))}),t._uU(7,"Deletar"),t.qZA()()()}}function C(o,d){if(1&o&&(t.TgZ(0,"tr")(1,"th",7)(2,"strong",8),t._uU(3),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.ALo(12,"currency"),t.qZA(),t.TgZ(13,"td",9)(14,"div",10)(15,"button",11)(16,"span",12),t._UZ(17,"i",13),t.qZA(),t.TgZ(18,"span",14),t._uU(19,"Split button!"),t.qZA()(),t.YNc(20,f,8,0,"ul",15),t.qZA()()()),2&o){const e=d.$implicit;t.xp6(3),t.hij("# ",e.id,""),t.xp6(2),t.hij(" ",e.shortName," "),t.xp6(2),t.hij(" ",e.description," "),t.xp6(2),t.hij(" ",e.deliveryTime," "),t.xp6(2),t.hij(" ",t.xi3(12,5,e.price,"BRL")," ")}}function x(o,d){if(1&o&&t.SjG(0,C,21,8,"tr",null,b),2&o){const e=t.oxw();t.wJu(e.deliveryMethods)}}function Z(o,d){if(1&o){const e=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.onEdit())}),t._uU(1,"Editar"),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("disabled",e.deliveryMethodForm.invalid)}}function T(o,d){if(1&o){const e=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.onSubmit())}),t._uU(1,"Criar"),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("disabled",e.deliveryMethodForm.invalid)}}function D(o,d){if(1&o){const e=t.EpF();t.TgZ(0,"div",21)(1,"h4",22),t._uU(2,"Tipo de Entrega"),t.qZA(),t.TgZ(3,"button",23),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.closeModal())}),t.TgZ(4,"span",24),t._uU(5,"\xd7"),t.qZA()()(),t.TgZ(6,"div",25)(7,"form",26),t._UZ(8,"app-text-input",27)(9,"app-text-input",27)(10,"app-text-input",27)(11,"app-text-input",28),t.TgZ(12,"div",29),t.YNc(13,Z,2,1,"button",30)(14,T,2,1),t.qZA()()(),t.TgZ(15,"div",31)(16,"button",32),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.closeModal())}),t._uU(17,"Fechar"),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(7),t.Q6J("formGroup",e.deliveryMethodForm),t.xp6(),t.Q6J("formControl",e.deliveryMethodForm.controls.shortName)("label","Nome do Tipo de Entrega"),t.xp6(),t.Q6J("formControl",e.deliveryMethodForm.controls.description)("label","Descri\xe7\xe3o"),t.xp6(),t.Q6J("formControl",e.deliveryMethodForm.controls.deliveryTime)("label","Prazo"),t.xp6(),t.Q6J("type","number")("formControl",e.deliveryMethodForm.controls.price)("label","Pre\xe7o"),t.xp6(2),t.um2(13,e.isEdit?13:14)}}const w=[{path:"",component:(()=>{class o{constructor(e,i,n,s){this.fb=e,this.deliveryMethodsService=i,this.modalService=n,this.router=s,this.isEdit=!1,this.config={backdrop:!0,ignoreBackdropClick:!1},this.deliveryMethodForm=this.createForm()}ngOnInit(){this.getDeliveryNethods()}getDeliveryNethods(){this.deliveryMethodsService.getDeliveryMethods().subscribe({next:e=>this.deliveryMethods=e})}onSubmit(){this.deliveryMethodsService.createDeliveryMethod(this.deliveryMethodForm.value).subscribe({next:()=>{this.getDeliveryNethods(),this.modalRef.hide(),this.isEdit=!1}})}onEdit(){this.deliveryMethodsService.updateDeliveryMethod(this.deliveryMethodForm.value).subscribe({next:()=>{this.getDeliveryNethods(),this.modalRef.hide(),this.clearEntity()}})}onDelete(e){this.deliveryMethodsService.deleteDeliveryMethod(e).subscribe({next:()=>{this.getDeliveryNethods(),this.modalRef.hide()}})}openModal(e,i){this.modalRef=this.modalService.show(e,this.config),this.modalRef.onHide?.subscribe(n=>{"backdrop-click"===n&&this.clearEntity()}),this.modalRef.setClass("modal-lg"),i&&(this.isEdit=!0,this.deliveryMethodForm.setValue({shortName:i.shortName,deliveryTime:i.deliveryTime,description:i.description,price:i.price,id:i.id}))}closeModal(){this.modalRef.hide(),this.clearEntity()}clearEntity(){this.deliveryMethodForm=this.createForm(),this.isEdit=!1}createForm(){return this.fb.group({shortName:["",l.kI.required],deliveryTime:["",l.kI.required],description:["",l.kI.required],price:[0,l.kI.required],id:0})}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(l.qu),t.Y36(g),t.Y36(y.tT),t.Y36(c.F0))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-delivery-methods"]],decls:29,vars:1,consts:[[1,"container"],["type","button",1,"btn","btn-light","new",3,"click"],[1,"table"],[1,"table","shadow-lg","p-1","mb-5","bg-white","rounded"],[1,"thead-dark","text-uppercase"],["scope","col"],["template",""],["scope","row"],[1,"ps-2"],[2,"width","200px"],["dropdown","",1,"btn-group"],["id","button-split","type","button","dropdownToggle","","aria-controls","dropdown-split",1,"dropdown-toggle","dropdown-toggle-split"],[1,"pe-1"],["aria-hidden","true",1,"fa","fa-ellipsis-h"],[1,"sr-only","visually-hidden"],["id","dropdown-split","class","dropdown-menu","role","menu","aria-labelledby","button-split",4,"dropdownMenu"],["id","dropdown-split","role","menu","aria-labelledby","button-split",1,"dropdown-menu"],["role","menuitem"],[1,"dropdown-item",3,"click"],[1,"divider","dropdown-divider"],[1,"dropdown-item","delete",3,"click"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn","close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup"],[3,"formControl","label"],[3,"type","formControl","label"],[1,"d-grid"],["class","btn btn-outline-dark mt-3","type","submit",3,"disabled"],[1,"modal-footer"],["type","button",1,"btn","btn-default",3,"click"],["type","submit",1,"btn","btn-outline-dark","mt-3",3,"disabled","click"]],template:function(i,n){if(1&i){const s=t.EpF();t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){t.CHM(s);const A=t.MAs(28);return t.KtG(n.openModal(A))}),t._uU(2,"Novo Tipo de Entrega"),t.qZA(),t.TgZ(3,"div",2)(4,"table",3)(5,"thead",4)(6,"tr")(7,"th",5)(8,"strong"),t._uU(9,"C\xf3digo"),t.qZA()(),t.TgZ(10,"th",5)(11,"strong"),t._uU(12,"Nome"),t.qZA()(),t.TgZ(13,"th",5)(14,"strong"),t._uU(15,"Descri\xe7\xe3o"),t.qZA()(),t.TgZ(16,"th",5)(17,"strong"),t._uU(18,"Prazo"),t.qZA()(),t.TgZ(19,"th",5)(20,"strong"),t._uU(21,"Pre\xe7o"),t.qZA()(),t.TgZ(22,"th",5)(23,"strong"),t._uU(24,"A\xe7\xe3o"),t.qZA()()()(),t.TgZ(25,"tbody"),t.YNc(26,x,2,0),t.qZA()()(),t.YNc(27,D,18,11,"ng-template",null,6,t.W1O),t.qZA()}2&i&&(t.xp6(26),t.um2(26,n.deliveryMethods?26:-1))},dependencies:[l._Y,l.JJ,l.JL,l.oH,l.sg,a.Hz,a.Mq,a.TO,M.t,p.H9],styles:[".container[_ngcontent-%COMP%]{margin-top:.8rem;height:100vh}.delete[_ngcontent-%COMP%]:hover{background-color:red}.new[_ngcontent-%COMP%]{border-radius:0;background-color:#000;color:#fff}.new[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000;border:1px solid black}.modal[_ngcontent-%COMP%]{width:60vw;height:60vh}table[_ngcontent-%COMP%]{margin-top:.5rem}tbody[_ngcontent-%COMP%]{min-height:400px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-size:.8rem;padding:5px 15px;margin:0}td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:20px;align-content:center;border:none}#button-split[_ngcontent-%COMP%]{border-radius:0}#button-split[_ngcontent-%COMP%]:hover{border:2px solid blue}#dropdown-split[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{text-align:center}"]})}return o})()},{path:"**",redirectTo:"",pathMatch:"full"}];let F=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[c.Bz.forChild(w),c.Bz]})}return o})(),k=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[p.ez,m.m,F]})}return o})()}}]);